<div class="app" *ngIf="user$ | async; else preloader">
  <app-header></app-header>
  <div class="main">
    <router-outlet></router-outlet>
  </div>
</div>

<ng-template #preloader>
  <div class="preloader" [@appPreloader]="(user$ | async) ? 'hidden' : 'displayed'">
    <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
  </div>
</ng-template>

<notifier-container></notifier-container>
